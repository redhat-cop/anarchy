#!/usr/bin/env python3

import kubernetes
kubernetes.config.load_kube_config()
core_v1_api = kubernetes.client.CoreV1Api()

pod = kubernetes.client.V1Pod(
    api_version = 'v1',
    kind = 'Pod',
    metadata = kubernetes.client.V1ObjectMeta(
        name = 'fuck'
    )
)

data = {"kind": "Pod", "apiVersion": "v1", "metadata": {"name": "anarchy-runner-default-95r7z", "generateName": "anarchy-runner-default-", "namespace": "anarchy", "uid": "c8b8b699-c6e9-4a66-8439-f81a67eca4cc", "resourceVersion": "40853", "creationTimestamp": "2021-10-27T20:26:32Z", "labels": {"anarchy.gpte.redhat.com/runner": "default"}, "annotations": {"k8s.v1.cni.cncf.io/network-status": "[{\n    \"name\": \"openshift-sdn\",\n    \"interface\": \"eth0\",\n    \"ips\": [\n        \"10.217.0.94\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n}]", "k8s.v1.cni.cncf.io/networks-status": "[{\n    \"name\": \"openshift-sdn\",\n    \"interface\": \"eth0\",\n    \"ips\": [\n        \"10.217.0.94\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n}]", "openshift.io/scc": "restricted"}, "ownerReferences": [{"apiVersion": "anarchy.gpte.redhat.com/v1", "kind": "AnarchyRunner", "name": "default", "uid": "2ae24380-ea91-41f5-892f-cb899b94bf36", "controller": True}], "managedFields": [{"manager": "OpenAPI-Generator", "operation": "Update", "apiVersion": "v1", "time": "2021-10-27T20:26:32Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:anarchy.gpte.redhat.com/runner": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"2ae24380-ea91-41f5-892f-cb899b94bf36\"}": {}}}, "f:spec": {"f:containers": {"k:{\"name\":\"runner\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"ANARCHY_COMPONENT\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"ANARCHY_DOMAIN\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"ANARCHY_URL\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"POD_NAME\"}": {".": {}, "f:name": {}, "f:valueFrom": {".": {}, "f:fieldRef": {}}}, "k:{\"name\":\"RUNNER_NAME\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"RUNNER_TOKEN\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {".": {}, "f:limits": {".": {}, "f:cpu": {}, "f:memory": {}}, "f:requests": {".": {}, "f:cpu": {}, "f:memory": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}}, {"manager": "kubelet", "operation": "Update", "apiVersion": "v1", "time": "2021-10-27T20:26:34Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.217.0.94\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "subresource": "status"}, {"manager": "multus", "operation": "Update", "apiVersion": "v1", "time": "2021-10-27T20:26:34Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:k8s.v1.cni.cncf.io/network-status": {}, "f:k8s.v1.cni.cncf.io/networks-status": {}}}}, "subresource": "status"}]}, "spec": {"volumes": [{"name": "kube-api-access-7zddl", "projected": {"sources": [{"serviceAccountToken": {"expirationSeconds": 3607, "path": "token"}}, {"configMap": {"name": "kube-root-ca.crt", "items": [{"key": "ca.crt", "path": "ca.crt"}]}}, {"downwardAPI": {"items": [{"path": "namespace", "fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}}]}}, {"configMap": {"name": "openshift-service-ca.crt", "items": [{"key": "service-ca.crt", "path": "service-ca.crt"}]}}], "defaultMode": 420}}], "containers": [{"name": "runner", "image": "image-registry.openshift-image-registry.svc:5000/anarchy/anarchy@sha256:2eedaa9d31e98d6a3b65a0869c6b025619b6471f356a915f7eb807b087bd6bf9", "env": [{"name": "ANARCHY_COMPONENT", "value": "runner"}, {"name": "ANARCHY_URL", "value": "http://anarchy.anarchy.svc:5000"}, {"name": "ANARCHY_DOMAIN", "value": "anarchy.gpte.redhat.com"}, {"name": "POD_NAME", "valueFrom": {"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.name"}}}, {"name": "RUNNER_NAME", "value": "default"}, {"name": "RUNNER_TOKEN", "value": "sp9t8c9u21ueudn89t56djhe7vcly5hokw9zukyl08l21rdlha"}], "resources": {"limits": {"cpu": "1", "memory": "256Mi"}, "requests": {"cpu": "500m", "memory": "256Mi"}}, "volumeMounts": [{"name": "kube-api-access-7zddl", "readOnly": True, "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount"}], "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "IfNotPresent", "securityContext": {"capabilities": {"drop": ["KILL", "MKNOD", "SETGID", "SETUID"]}, "runAsUser": 1000650000}}], "restartPolicy": "Always", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "serviceAccountName": "anarchy-runner-default", "serviceAccount": "anarchy-runner-default", "nodeName": "crc-dzk9v-master-0", "securityContext": {"seLinuxOptions": {"level": "s0:c26,c0"}, "fsGroup": 1000650000}, "imagePullSecrets": [{"name": "anarchy-runner-default-dockercfg-xlcbm"}], "schedulerName": "default-scheduler", "tolerations": [{"key": "node.kubernetes.io/not-ready", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300}, {"key": "node.kubernetes.io/unreachable", "operator": "Exists", "effect": "NoExecute", "tolerationSeconds": 300}, {"key": "node.kubernetes.io/memory-pressure", "operator": "Exists", "effect": "NoSchedule"}], "priority": 0, "enableServiceLinks": True, "preemptionPolicy": "PreemptLowerPriority"}, "status": {"phase": "Running", "conditions": [{"type": "Initialized", "status": "True", "lastProbeTime": None, "lastTransitionTime": "2021-10-27T20:26:32Z"}, {"type": "Ready", "status": "True", "lastProbeTime": None, "lastTransitionTime": "2021-10-27T20:26:34Z"}, {"type": "ContainersReady", "status": "True", "lastProbeTime": None, "lastTransitionTime": "2021-10-27T20:26:34Z"}, {"type": "PodScheduled", "status": "True", "lastProbeTime": None, "lastTransitionTime": "2021-10-27T20:26:32Z"}], "hostIP": "192.168.126.11", "podIP": "10.217.0.94", "podIPs": [{"ip": "10.217.0.94"}], "startTime": "2021-10-27T20:26:32Z", "containerStatuses": [{"name": "runner", "state": {"running": {"startedAt": "2021-10-27T20:26:34Z"}}, "lastState": {}, "ready": True, "restartCount": 0, "image": "image-registry.openshift-image-registry.svc:5000/anarchy/anarchy@sha256:2eedaa9d31e98d6a3b65a0869c6b025619b6471f356a915f7eb807b087bd6bf9", "imageID": "image-registry.openshift-image-registry.svc:5000/anarchy/anarchy@sha256:2eedaa9d31e98d6a3b65a0869c6b025619b6471f356a915f7eb807b087bd6bf9", "containerID": "cri-o://b9e8890d3bc6ad0b5dc5d54e610a9713d7ef2a5198fc0d3052cd87e71bcbe036", "started": True}], "qosClass": "Burstable"}}

class FakeKubeResponse:
    def __init__(self, obj):
        import json
        self.data = json.dumps(obj)

pod = core_v1_api.api_client.deserialize(FakeKubeResponse(data), kubernetes.client.V1Pod)
print(pod.api_version)
print(pod.kind)
